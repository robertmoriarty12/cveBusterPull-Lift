# cveBuster API Documentation - Version Guide

## üìö Available Documentation

### 1. **API_DOCS_FOR_AGENT.md** ‚≠ê RECOMMENDED FOR AUTOMATION
**Location:** Root directory  
**Purpose:** AI Agent & automated connector generation  
**Updated:** January 15, 2026

**Use this when:**
- Building Microsoft Sentinel CCF connectors via AI agents
- Automated connector code generation
- Need exact ARM resource structure and configuration
- Building programmatic integrations

**Key Features:**
- ‚úÖ Complete Microsoft Sentinel CCF examples
- ‚úÖ All 20 actual data fields (matches API implementation)
- ‚úÖ Correct pagination configuration (NextPageToken)
- ‚úÖ Proper response path ($.vulnerabilities)
- ‚úÖ ARM resource structure requirements
- ‚úÖ Critical warnings and DO/DON'T checklist
- ‚úÖ Working polling config, table schema, DCR examples

---

### 2. **API_DOCUMENTATION.md**
**Location:** Root directory  
**Purpose:** General API reference (legacy)  
**Status:** May contain outdated field counts

**Use this for:**
- Quick API overview
- General integration patterns
- Human-readable reference

---

### 3. **Server/api_docs/index.html**
**Location:** `Server/api_docs/` directory  
**Purpose:** Web-based documentation with visual navigation  
**Access:** Run `python server.py` in api_docs folder, then visit `http://localhost:80`

**Use this for:**
- Visual/interactive documentation browsing
- Human developers learning the API
- Quick reference with examples

**Note:** The HTML documentation may reference 11 fields (outdated). The actual API has 20 fields as documented in `API_DOCS_FOR_AGENT.md`.

---

## üéØ Which Documentation Should I Use?

| Scenario | Use This |
|----------|----------|
| **Building Sentinel connector with AI agent** | `API_DOCS_FOR_AGENT.md` ‚≠ê |
| **Automated connector generation** | `API_DOCS_FOR_AGENT.md` ‚≠ê |
| **Need exact CCF configuration** | `API_DOCS_FOR_AGENT.md` ‚≠ê |
| **Manual integration (human developer)** | `index.html` or `API_DOCUMENTATION.md` |
| **Quick API overview** | `API_DOCUMENTATION.md` |
| **Interactive browsing** | `index.html` |

---

## üìä Data Schema Comparison

### Actual API Implementation (20 fields)
The API actually returns **20 fields** per vulnerability record:

1. MachineName
2. HostId
3. IPAddress
4. OSFamily
5. Application
6. AppFilePath
7. VulnId
8. VulnTitle
9. Severity
10. CVSS
11. ExploitAvailable
12. ExploitedInWild
13. PatchAvailable
14. FirstSeen
15. LastSeen
16. LastScanTime
17. LastModified
18. AssetCriticality
19. BusinessOwner
20. Source

**Source of Truth:** 
- `API_DOCS_FOR_AGENT.md` (correct - 20 fields)
- `Server/app_paginated.py` (actual implementation)
- `cvebuster_data.json` (sample data)

### Legacy Documentation (11 fields - OUTDATED)
Some documentation may reference only 11 fields. This is outdated and should not be used for new integrations.

---

## üîß For Maintainers

When updating API documentation:

1. **Always update `API_DOCS_FOR_AGENT.md` first** - This is the source of truth for automation
2. Update `Server/app_paginated.py` if API behavior changes
3. Regenerate `cvebuster_data.json` if schema changes
4. Update `index.html` for human-readable web docs
5. Keep `API_DOCUMENTATION.md` in sync (optional)

---

## üìû Quick Reference

**API Endpoint:** `http://cvebuster.eastus.cloudapp.azure.com:5000/api/vulnerabilities`  
**Authentication:** API Key in `Authorization` header  
**Default API Key:** `cvebuster-demo-key-12345`  
**Pagination:** Cursor-based using `next_token` parameter  
**Response Array:** `vulnerabilities` (not `data`)  
**Time Filtering:** `createdAt__gt` and `createdAt__lt` parameters  
**Recommended Page Size:** 50 records
